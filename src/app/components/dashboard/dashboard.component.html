<section class="transactions-section">
    <div class="container">
        <div class="top">
            <div class="top-left-col">
                <h2>Transactions</h2>
            </div>
            <div class="top-right-col">
                <button type="button"
                        class="add-cta"
                        [matMenuTriggerFor]="menu">+ NEW</button>
                <mat-menu #menu="matMenu">
                    <button routerLink="/add-income"
                            mat-menu-item>Income</button>
                    <button routerLink="/add-expense"
                            mat-menu-item>Expense</button>
                </mat-menu>
            </div>
        </div>

        <div class="list-container">
            <div class="transaction-container"
                 *ngFor="let transaction of transactions">
                <app-transaction-view [transaction]="transaction"
                                      (onView)="viewTransaction(transaction)"
                                      (onDelete)="deleteTransaction(transaction)"
                                      (onEdit)="onOpenEditDialog(transaction)"></app-transaction-view>
            </div>
            <div class="empty">
                <div class="pagination"
                     *ngFor="let transaction of allTransactions | paginate: { itemsPerPage: itemsPerPage, currentPage: currentPageNumber }">
                </div>
            </div>
        </div>

        <div *ngIf="allTransactions?.length"
             class="pagination-container">
            <pagination-controls (pageChange)="pageChanged($event)"></pagination-controls>
        </div>
    </div>
</section>


<!-- Edit Account Dialog -->
<!-- <ng-template #dialogRef
             let-mydata>
    <h5>Edit transaction {{mydata}}</h5>
    <form #editForm="ngForm">
        <input type="hidden"
               [(ngModel)]="editAccount.id"
               name="id"
               class="form-control"
               id="id">
        <div class="form-group">
            <label for="name">Name</label>
            <input type="text"
                   [(ngModel)]="editAccount.name"
                   name="name"
                   class="form-control"
                   id="name">
            <div class="error error-name"
                 [ngClass]="{ hidden: isNameValid }"><span id="error-name">Please enter a name for
                    your transaction!</span></div>
        </div>
        <div class="form-group">
            <label for="balance">Balance</label>
            <input type="text"
                   [(ngModel)]="editAccount.balance"
                   name="balance"
                   class="form-control"
                   id="balance">
            <div class="error error-balance"
                 [ngClass]="{ hidden: isBalanceValid }"><span id="error-balance">Please enter a
                    valid starting balance! <i>(Example: 123.45)</i>
                </span></div>
        </div>
        <div class="form-group form-group-bottom">
            <label for="transaction-type">Account Type</label>
            <div class="img-select">
                <img src="{{editAccount.accountType.imageUrl}}">
                <select class="form-group"
                        id="select"
                        aria-label="Account Type"
                        [(ngModel)]="editAccount.accountType"
                        [compareWith]="compareById"
                        name="accountType"
                        id="transaction-type">
                    <option *ngFor="let accountType of accountTypes"
                            [ngValue]="accountType">
                        <span>{{ accountType?.name }}</span>
                    </option>
                </select>
            </div>
            <div class="error error-transaction-type"
                 [ngClass]="{ hidden: isAccountTypeValid }"><span id="error-transaction-type">Please select an transaction
                    type!
                </span></div>
        </div>
        <div class="buttons-container">
            <button type="button"
                    class="btn cancel"
                    mat-dialog-close="{{null}}">Close</button>
            <button type="submit"
                    class="btn next"
                    (click)="onSubmitEditForm()">Save</button>
        </div>
    </form>
</ng-template> -->